stages:
  extract:
    cmd: python src/extract_zip.py
    deps:
      - config/main.yaml
      - data/raw/archive.zip
      - src/extract_zip.py
    outs:
      - data/extracted

  combine:
    cmd: python src/combine_parquet.py
    deps:
      - config/main.yaml
      - data/extracted
      - src/combine_parquet.py
    outs:
      - data/processed/combined_data.parquet

  download_noaa:
    cmd: python src/download_noaa_data.py
    deps:
      - src/download_noaa_data.py
      - config/main.yaml
    outs:
      - data/noaa_raw/